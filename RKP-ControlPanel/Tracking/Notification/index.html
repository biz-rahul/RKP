<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Apps Analytics Viewer</title>

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>

/* =========================
PREMIUM NEUMORPHIC UI
========================= */

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
background:#e6ebf2;
color:#2d3748;
}

.container{
max-width:900px;
margin:auto;
padding:15px;
}

.title{
text-align:center;
font-size:28px;
font-weight:700;
margin-bottom:15px;
}

.card{
background:#e6ebf2;
padding:15px;
border-radius:18px;

box-shadow:
8px 8px 16px #c5cad1,
-8px -8px 16px #ffffff;

margin-bottom:15px;
}

input,textarea,select{
width:100%;
padding:12px;
border:none;
border-radius:12px;
background:#e6ebf2;
box-shadow:
inset 4px 4px 8px #c5cad1,
inset -4px -4px 8px #ffffff;
margin-bottom:10px;
}

button{
padding:10px 15px;
border:none;
border-radius:12px;
background:#e6ebf2;
box-shadow:
4px 4px 8px #c5cad1,
-4px -4px 8px #ffffff;
cursor:pointer;
margin:5px;
}

button:active{
box-shadow:
inset 4px 4px 8px #c5cad1,
inset -4px -4px 8px #ffffff;
}

.viewer{
display:none;
}

/* FILTER BAR */

.filter-bar{
display:flex;
overflow-x:auto;
gap:10px;
margin-bottom:10px;
}

.filter-bar button{
white-space:nowrap;
}

/* APP FILTER */

.app-filter{
margin-bottom:10px;
}

/* NOTIFICATION */

.notification{
padding:15px;
margin-bottom:10px;
border-radius:15px;
background:#e6ebf2;
box-shadow:
5px 5px 10px #c5cad1,
-5px -5px 10px #ffffff;
cursor:pointer;
}

.notification-header{
display:flex;
align-items:center;
gap:10px;
}

.icon{
font-size:20px;
width:30px;
text-align:center;
}

.app-name{
font-weight:700;
}

.message{
margin-top:5px;
}

.time{
font-size:12px;
color:#666;
margin-top:5px;
}

.details{
margin-top:10px;
font-size:13px;
display:none;
background:#dde3ea;
padding:10px;
border-radius:10px;
}

</style>
</head>
<body>

<div class="container">

<div id="inputSection">

<div class="title">Apps Analytics Viewer</div>

<div class="card">

<input id="linkInput"
value="https://raw.githubusercontent.com/MOFO-UG/ControlTheWorld/main/SM-E156B/Example/18-02-2026/example.json">

<button onclick="loadFromLink()">Load from Link</button>

<textarea id="pasteInput" placeholder="Paste JSON"></textarea>

<button onclick="loadFromPaste()">Load JSON</button>

<input type="file" id="fileInput">

<button onclick="loadFromFile()">Load File</button>

</div>

</div>


<div id="viewer" class="viewer">

<div class="filter-bar">

<button onclick="filterTime('today')">Today</button>
<button onclick="filterTime('yesterday')">Yesterday</button>
<button onclick="filterTime('week')">This Week</button>
<button onclick="filterTime('month')">This Month</button>
<button onclick="filterTime('older')">Older</button>
<button onclick="filterTime('all')">All</button>

</div>

<select id="appFilter" class="app-filter"
onchange="filterByApp()">

<option value="all">All Apps</option>

</select>

<div id="notificationList"></div>

</div>

</div>

<script>

/* =========================
GLOBAL STATE
========================= */

let allNotifications=[];
let filteredNotifications=[];


/* =========================
FONT AWESOME ICON MAP
TOP 150 APPS
========================= */

const iconMap = {

"default":"fa-solid fa-bell",

/* META ECOSYSTEM */
"facebook":"fa-brands fa-facebook",
"facebook lite":"fa-brands fa-facebook",
"messenger":"fa-brands fa-facebook-messenger",
"instagram":"fa-brands fa-instagram",
"threads":"fa-brands fa-instagram",
"whatsapp":"fa-brands fa-whatsapp",
"whatsapp business":"fa-brands fa-whatsapp",

/* GOOGLE ECOSYSTEM */
"google":"fa-brands fa-google",
"gmail":"fa-solid fa-envelope",
"chrome":"fa-brands fa-chrome",
"youtube":"fa-brands fa-youtube",
"youtube music":"fa-brands fa-youtube",
"google maps":"fa-solid fa-map-location-dot",
"google photos":"fa-solid fa-image",
"google drive":"fa-brands fa-google-drive",
"google pay":"fa-brands fa-google-pay",
"google play store":"fa-brands fa-google-play",
"play store":"fa-brands fa-google-play",
"google meet":"fa-solid fa-video",
"google messages":"fa-solid fa-comment",
"google calendar":"fa-solid fa-calendar",
"google news":"fa-solid fa-newspaper",
"google files":"fa-solid fa-folder",
"google keep":"fa-solid fa-note-sticky",

/* MICROSOFT */
"outlook":"fa-brands fa-microsoft",
"microsoft teams":"fa-brands fa-microsoft",
"onedrive":"fa-brands fa-microsoft",
"skype":"fa-brands fa-skype",

/* SOCIAL MEDIA */
"twitter":"fa-brands fa-x-twitter",
"x":"fa-brands fa-x-twitter",
"telegram":"fa-brands fa-telegram",
"telegram x":"fa-brands fa-telegram",
"snapchat":"fa-brands fa-snapchat",
"reddit":"fa-brands fa-reddit",
"reddit is fun":"fa-brands fa-reddit",
"pinterest":"fa-brands fa-pinterest",
"linkedin":"fa-brands fa-linkedin",
"discord":"fa-brands fa-discord",
"tumblr":"fa-brands fa-tumblr",
"koo":"fa-solid fa-comment",
"quora":"fa-brands fa-quora",

/* VIDEO & STREAMING */
"netflix":"fa-solid fa-film",
"amazon prime video":"fa-brands fa-amazon",
"prime video":"fa-brands fa-amazon",
"hotstar":"fa-solid fa-tv",
"disney+":"fa-solid fa-tv",
"mx player":"fa-solid fa-play",
"vlc":"fa-solid fa-play",
"spotify":"fa-brands fa-spotify",
"wynk":"fa-solid fa-music",
"gaana":"fa-solid fa-music",
"jiosaavn":"fa-solid fa-music",
"apple music":"fa-brands fa-apple",

/* SHOPPING */
"amazon":"fa-brands fa-amazon",
"flipkart":"fa-solid fa-cart-shopping",
"meesho":"fa-solid fa-bag-shopping",
"myntra":"fa-solid fa-shirt",
"ajio":"fa-solid fa-shirt",
"nykaa":"fa-solid fa-bag-shopping",
"snapdeal":"fa-solid fa-cart-shopping",

/* PAYMENT */
"phonepe":"fa-solid fa-indian-rupee-sign",
"paytm":"fa-solid fa-indian-rupee-sign",
"bhim":"fa-solid fa-indian-rupee-sign",
"gpay":"fa-brands fa-google-pay",
"google pay":"fa-brands fa-google-pay",
"amazon pay":"fa-brands fa-amazon",
"paypal":"fa-brands fa-paypal",

/* COMMUNICATION */
"messages":"fa-solid fa-comment",
"sms":"fa-solid fa-comment",
"call":"fa-solid fa-phone",
"phone":"fa-solid fa-phone",
"contacts":"fa-solid fa-address-book",
"truecaller":"fa-solid fa-phone",
"imo":"fa-solid fa-comment-dots",

/* BROWSER */
"firefox":"fa-brands fa-firefox",
"opera":"fa-brands fa-opera",
"opera mini":"fa-brands fa-opera",
"edge":"fa-brands fa-edge",
"brave":"fa-solid fa-compass",

/* FILE & STORAGE */
"files":"fa-solid fa-folder",
"file manager":"fa-solid fa-folder",
"my files":"fa-solid fa-folder",
"dropbox":"fa-brands fa-dropbox",

/* DEVICE & SYSTEM */
"settings":"fa-solid fa-gear",
"camera":"fa-solid fa-camera",
"gallery":"fa-solid fa-image",
"clock":"fa-solid fa-clock",
"calculator":"fa-solid fa-calculator",
"weather":"fa-solid fa-cloud-sun",
"notes":"fa-solid fa-note-sticky",

/* EMAIL */
"email":"fa-solid fa-envelope",
"yahoo mail":"fa-brands fa-yahoo",

/* MAP & TRANSPORT */
"uber":"fa-brands fa-uber",
"ola":"fa-solid fa-car",
"rapido":"fa-solid fa-motorcycle",

/* BANKING */
"hdfc bank":"fa-solid fa-building-columns",
"sbi":"fa-solid fa-building-columns",
"icici bank":"fa-solid fa-building-columns",
"axis bank":"fa-solid fa-building-columns",
"kotak bank":"fa-solid fa-building-columns",

/* CLOUD & DEV */
"github":"fa-brands fa-github",
"gitlab":"fa-brands fa-gitlab",
"stack overflow":"fa-brands fa-stack-overflow",

/* ENTERTAINMENT */
"tiktok":"fa-brands fa-tiktok",
"sharechat":"fa-solid fa-comment",
"chingaari":"fa-solid fa-video",

/* NEWS */
"inshorts":"fa-solid fa-newspaper",
"news":"fa-solid fa-newspaper",

/* EDUCATION */
"zoom":"fa-solid fa-video",
"google classroom":"fa-solid fa-graduation-cap",
"udemy":"fa-solid fa-graduation-cap",
"coursera":"fa-solid fa-graduation-cap",

/* GAMES */
"pubg":"fa-solid fa-gamepad",
"bgmi":"fa-solid fa-gamepad",
"free fire":"fa-solid fa-gamepad",
"clash of clans":"fa-solid fa-gamepad",
"subway surfers":"fa-solid fa-gamepad",

/* FOOD */
"zomato":"fa-solid fa-utensils",
"swiggy":"fa-solid fa-utensils",
"dominos":"fa-solid fa-pizza-slice",

/* UTILITIES */
"adobe":"fa-brands fa-adobe",
"acrobat":"fa-brands fa-adobe",
"canva":"fa-solid fa-palette",
"notion":"fa-solid fa-note-sticky",

/* EXTRA COMMON APPS */
"airbnb":"fa-brands fa-airbnb",
"aliexpress":"fa-solid fa-cart-shopping",
"booking":"fa-solid fa-hotel",
"ebay":"fa-brands fa-ebay",
"line":"fa-solid fa-comment",
"kik":"fa-solid fa-comment",
"signal":"fa-solid fa-comment",
"wechat":"fa-brands fa-weixin",
"viber":"fa-brands fa-viber",
"twitch":"fa-brands fa-twitch",
"steam":"fa-brands fa-steam",
"xbox":"fa-brands fa-xbox",
"playstation":"fa-brands fa-playstation"

};


/* =========================
LOAD FUNCTIONS
========================= */

async function loadFromLink(){

const url=linkInput.value;

const res=await fetch(url);

const text=await res.text();

processJSON(text);

}

function loadFromPaste(){

processJSON(pasteInput.value);

}

function loadFromFile(){

const file=fileInput.files[0];

const reader=new FileReader();

reader.onload=e=>processJSON(e.target.result);

reader.readAsText(file);

}


/* =========================
PROCESS JSON
========================= */

function processJSON(text){

try{

const data=JSON.parse(text);

if(!Array.isArray(data)) throw "Invalid";

allNotifications=data;

filteredNotifications=[...data];

hideInput();

populateAppFilter();

renderNotifications();

}catch{

alert("Invalid JSON");

}

}


/* =========================
HIDE INPUT
========================= */

function hideInput(){

inputSection.style.display="none";

viewer.style.display="block";

}


/* =========================
APP FILTER AUTO FETCH
========================= */

function populateAppFilter(){

const apps=[...new Set(allNotifications.map(n=>n.app_name))];

const select=document.getElementById("appFilter");

apps.forEach(app=>{

const option=document.createElement("option");

option.value=app;

option.textContent=app;

select.appendChild(option);

});

}


function filterByApp(){

const selected=appFilter.value;

if(selected==="all")

filteredNotifications=[...allNotifications];

else

filteredNotifications=allNotifications.filter(
n=>n.app_name===selected
);

renderNotifications();

}


/* =========================
TIME FILTER
========================= */

function filterTime(type){

const now=new Date();

filteredNotifications=allNotifications.filter(n=>{

const date=new Date(n.posted_time);

if(type==="today")

return date.toDateString()===now.toDateString();

if(type==="yesterday"){

const y=new Date();

y.setDate(now.getDate()-1);

return date.toDateString()===y.toDateString();

}

if(type==="week"){

const week=new Date();

week.setDate(now.getDate()-7);

return date>=week;

}

if(type==="month"){

const month=new Date();

month.setMonth(now.getMonth()-1);

return date>=month;

}

if(type==="older"){

const month=new Date();

month.setMonth(now.getMonth()-1);

return date<month;

}

return true;

});

renderNotifications();

}

/* =========================
APP NAME NORMALIZER
========================= */

function normalizeAppName(name)
{
if(!name) return "";

return name
.toLowerCase()
.trim()
.replace(/[^a-z0-9\s]/g," ")   // remove symbols
.replace(/\s+/g," ");          // normalize spaces
}
  
/* =========================
GET ICON
========================= */

function getIcon(app){

if(!app) return iconMap.default;

const key=app.toLowerCase();

return iconMap[key]||iconMap.default;

}


/* =========================
RENDER NOTIFICATIONS
========================= */

function renderNotifications(){

const container=document.getElementById(
"notificationList"
);

container.innerHTML="";

filteredNotifications
.sort((a,b)=>b.posted_time-a.posted_time)
.forEach((n,i)=>{

const icon=getIcon(n.app_name);

const message=
n.text||n.big_text||n.ticker||"";

const div=document.createElement("div");

div.className="notification";

div.innerHTML=`

<div class="notification-header">

<i class="icon ${icon}"></i>

<div>

<div class="app-name">
${n.app_name||""}
</div>

<div class="message">
${n.title||""} ${message}
</div>

<div class="time">
${new Date(
n.posted_time
).toLocaleString()}
</div>

</div>

</div>

<div class="details">

<b>Package:</b> ${n.package}<br>

<b>ID:</b> ${n.id}<br>

<b>Category:</b> ${n.category}<br>

<b>Title:</b> ${n.title}<br>

<b>Text:</b> ${n.text}<br>

<b>Big Text:</b> ${n.big_text}<br>

<b>Ticker:</b> ${n.ticker}<br>

<b>Posted:</b> ${new Date(
n.posted_time
).toLocaleString()}<br>

<b>Captured:</b> ${new Date(
n.captured_time
).toLocaleString()}

</div>

`;

div.onclick=function(){

const d=this.querySelector(".details");

d.style.display=
d.style.display==="block"
?"none":"block";

};

container.appendChild(div);

});

}

</script>

</body>
</html>
