<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Call Analytics Viewer</title><style>

/* ========== BASE ========== */

body{
background:#e0e5ec;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
margin:0;
padding:15px;
color:#2d3436;
}

.app{
max-width:900px;
margin:auto;
}

.title{
text-align:center;
margin-bottom:20px;
font-weight:600;
}


/* ========== NEUMORPHISM ========== */

.neu{
background:#e0e5ec;
border-radius:20px;
box-shadow:
8px 8px 16px #a3b1c6,
-8px -8px 16px #ffffff;
}

.neu-inset{
background:#e0e5ec;
border-radius:12px;
box-shadow:
inset 4px 4px 8px #a3b1c6,
inset -4px -4px 8px #ffffff;
}


/* ========== LOAD SECTION ========== */

.load{
padding:20px;
margin-bottom:20px;
}

.input-group{
margin-bottom:20px;
}

label{
font-weight:500;
font-size:14px;
}

input, textarea{
width:100%;
border:none;
outline:none;
padding:12px;
margin-top:8px;
border-radius:12px;
background:#e0e5ec;
box-shadow:
inset 4px 4px 8px #a3b1c6,
inset -4px -4px 8px #ffffff;
font-size:14px;
}

textarea{
height:120px;
resize:none;
}

button{
margin-top:10px;
padding:10px;
border:none;
border-radius:12px;
cursor:pointer;
background:#e0e5ec;
box-shadow:
4px 4px 8px #a3b1c6,
-4px -4px 8px #ffffff;
}

button:active{
box-shadow:
inset 4px 4px 8px #a3b1c6,
inset -4px -4px 8px #ffffff;
}


/* ========== DASHBOARD ========== */

.hidden{
display:none;
}

.stats{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
gap:15px;
margin-bottom:20px;
}

.stat{
padding:15px;
text-align:center;
}

.stat-value{
font-size:22px;
font-weight:bold;
}

.stat-label{
font-size:13px;
}


/* ========== CONTACT CARDS ========== */

.contact{
padding:15px;
margin-bottom:15px;
}

.contact-header{
display:flex;
justify-content:space-between;
cursor:pointer;
}

.contact-name{
font-weight:bold;
}

.call-list{
margin-top:10px;
padding-left:10px;
}

.call{
font-size:13px;
margin-bottom:6px;
padding:8px;
border-radius:10px;
background:#e0e5ec;
box-shadow:
inset 3px 3px 6px #a3b1c6,
inset -3px -3px 6px #ffffff;
}


/* ========== MOBILE OPTIMIZATION ========== */

@media(max-width:600px){

body{
padding:10px;
}

.title{
font-size:20px;
}

.stat-value{
font-size:18px;
}

}

</style></head>
<body><div class="app"><h2 class="title">Premium Call Analytics Viewer</h2><!-- LOAD SECTION --><div id="loadSection" class="load neu"><div class="input-group"><label>Load from Link</label>

<input id="linkInput"
value="https://raw.githubusercontent.com/MOFO-UG/ControlTheWorld/main/SM-E156B/Example/18-02-2026/example.json">

<button onclick="loadFromLink()">Load</button>

</div><div class="input-group"><label>Paste JSON</label>

<textarea id="pasteInput"></textarea><button onclick="loadFromPaste()">Load</button>

</div><div class="input-group"><label>Select JSON File</label>

<input type="file" id="fileInput" accept=".json"></div></div><!-- DASHBOARD --><div id="dashboard" class="hidden"><div class="stats"><div class="stat neu">
<div id="statContacts" class="stat-value">0</div>
<div class="stat-label">Contacts</div>
</div><div class="stat neu">
<div id="statCalls" class="stat-value">0</div>
<div class="stat-label">Calls</div>
</div><div class="stat neu">
<div id="statDuration" class="stat-value">0</div>
<div class="stat-label">Total Duration</div>
</div></div><div id="contacts"></div></div></div><script>

/* ===== DATA STORAGE ===== */

let DATA=[];

const CALL_TYPES={
1:"Incoming",
2:"Outgoing",
3:"Missed",
5:"Rejected",
6:"Blocked"
};


/* ===== FORMAT FUNCTIONS ===== */

function formatDuration(sec){

let m=Math.floor(sec/60);
let s=sec%60;

return m+"m "+s+"s";

}

function formatDate(ts){

return new Date(ts).toLocaleString();

}


/* ===== LOAD HANDLERS ===== */

async function loadFromLink(){

try{

let url=document.getElementById("linkInput").value;

let res=await fetch(url);

let text=await res.text();

process(text);

}catch{

alert("Failed to load link");

}

}

function loadFromPaste(){

try{

let json=document.getElementById("pasteInput").value;

process(json);

}catch{

alert("Invalid JSON");

}

}

document.getElementById("fileInput").onchange=e=>{

let reader=new FileReader();

reader.onload=x=>process(x.target.result);

reader.readAsText(e.target.files[0]);

};


/* ===== PROCESS ===== */

function process(json){

try{

DATA=JSON.parse(json);

document.getElementById("loadSection").style.display="none";

document.getElementById("dashboard").classList.remove("hidden");

renderStats();

renderContacts();

}catch{

alert("Invalid JSON format");

}

}


/* ===== STATS ===== */

function renderStats(){

let contacts=DATA.length;

let calls=0;
let duration=0;

DATA.forEach(c=>{

c.calls.forEach(call=>{

calls++;
duration+=call.duration;

});

});

document.getElementById("statContacts").innerText=contacts;

document.getElementById("statCalls").innerText=calls;

document.getElementById("statDuration").innerText=formatDuration(duration);

}


/* ===== CONTACTS ===== */

function renderContacts(){

let html="";

DATA.forEach((contact,i)=>{

let total=contact.calls.reduce((a,b)=>a+b.duration,0);

html+=`

<div class="contact neu">

<div class="contact-header" onclick="toggle(${i})">

<div>

<div class="contact-name">${contact.name || "Unknown"}</div>
<div>${contact.number}</div>

</div>

<div>

${contact.calls.length} calls<br>
${formatDuration(total)}

</div>

</div>


<div id="calls-${i}" class="call-list hidden">

${contact.calls.map(call=>`

<div class="call">

${CALL_TYPES[call.type] || call.type}<br>
${formatDate(call.date)}<br>
${formatDuration(call.duration)}

</div>

`).join("")}

</div>

</div>

`;

});

document.getElementById("contacts").innerHTML=html;

}


/* ===== TOGGLE ===== */

function toggle(i){

document.getElementById("calls-"+i).classList.toggle("hidden");

}

</script></body>
</html>
