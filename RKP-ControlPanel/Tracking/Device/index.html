<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apps Analytics Viewer</title>

<style>

/* =========================
   NEUMORPHIC BASE
========================= */

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
background:#e6ebf2;
color:#2d3748;
}

.container{
max-width:500px;
margin:auto;
padding:20px;
}

.title{
text-align:center;
font-size:28px;
font-weight:600;
margin-bottom:25px;
}

/* =========================
   NEUMORPHIC CARD
========================= */

.neo-card{
background:#e6ebf2;
border-radius:20px;
padding:20px;
margin-bottom:20px;

box-shadow:
8px 8px 16px #c5cad1,
-8px -8px 16px #ffffff;
}

/* =========================
   INPUTS
========================= */

.neo-input{
width:100%;
padding:15px;
border-radius:15px;
border:none;
outline:none;

background:#e6ebf2;

box-shadow:
inset 6px 6px 12px #c5cad1,
inset -6px -6px 12px #ffffff;

margin-bottom:15px;

font-size:16px;
}

.neo-textarea{
height:120px;
resize:none;
}

/* =========================
   BUTTON
========================= */

.neo-btn{

padding:12px 20px;
border-radius:12px;
border:none;

background:#e6ebf2;

box-shadow:
6px 6px 12px #c5cad1,
-6px -6px 12px #ffffff;

font-size:16px;
cursor:pointer;
}

.neo-btn:active{

box-shadow:
inset 6px 6px 12px #c5cad1,
inset -6px -6px 12px #ffffff;

}

/* =========================
   HIDDEN
========================= */

.hidden{
display:none;
}

/* =========================
   DASHBOARD
========================= */

/* =========================
   VISUAL LEVEL BARS
========================= */

.level-container{
display:flex;
align-items:center;
gap:10px;
}

.level-bar{
flex:1;
height:12px;
border-radius:10px;
background:#d1d9e6;
box-shadow:
inset 4px 4px 8px #c5cad1,
inset -4px -4px 8px #ffffff;
overflow:hidden;
}

.level-fill{

height:100%;
border-radius:10px;
background:linear-gradient(90deg,#4facfe,#00f2fe);

}

.level-text{
min-width:40px;
text-align:right;
font-weight:600;
}

/* =========================
   BATTERY VISUAL
========================= */

.battery-box{

width:60px;
height:28px;
border-radius:6px;
border:2px solid #2d3748;
position:relative;

}

.battery-fill{

height:100%;
background:linear-gradient(90deg,#00ff87,#60efff);

}

.battery-cap{

width:4px;
height:12px;
background:#2d3748;
position:absolute;
right:-6px;
top:6px;
border-radius:2px;

}

/* =========================
   ICON STYLE
========================= */

.icon{
width:22px;
height:22px;
vertical-align:middle;
margin-left:6px;
}

.dashboard{
margin-top:20px;
}

.data-card{

background:#e6ebf2;
border-radius:15px;
padding:15px;
margin-bottom:15px;

box-shadow:
6px 6px 12px #c5cad1,
-6px -6px 12px #ffffff;

}

.data-title{
font-weight:600;
margin-bottom:10px;
}

.data-row{
display:flex;
justify-content:space-between;
padding:5px 0;
border-bottom:1px solid rgba(0,0,0,0.05);
}

.data-row:last-child{
border-bottom:none;
}

/* =========================
   MOBILE OPTIMIZATION
========================= */

@media(max-width:480px){

.title{
font-size:24px;
}

}

</style>

</head>
<body>

<div class="container">

<div id="loaderUI">

<div class="title">Apps Analytics Viewer</div>

<div class="neo-card">

<div>Load from Link</div>

<input
class="neo-input"
id="linkInput"
value="https://raw.githubusercontent.com/MOFO-UG/ControlTheWorld/main/SM-E156B/Example/18-02-2026/example.json"
/>

<button class="neo-btn" onclick="loadFromLink()">Load</button>

<br><br>

<div>Paste JSON</div>

<textarea
class="neo-input neo-textarea"
id="pasteInput"
></textarea>

<button class="neo-btn" onclick="loadFromPaste()">Load</button>

<br><br>

<div>Select File</div>

<input
type="file"
class="neo-input"
id="fileInput"
/>

</div>

</div>

<div id="dashboard" class="dashboard hidden"></div>

</div>

<script>

/* =========================
   CORE LOAD FUNCTIONS
========================= */

function hideLoader(){

document.getElementById("loaderUI").classList.add("hidden");

document.getElementById("dashboard").classList.remove("hidden");

}

async function loadFromLink(){

const url=document.getElementById("linkInput").value;

const res=await fetch(url);

const json=await res.json();

hideLoader();

render(json);

}

function loadFromPaste(){

const text=document.getElementById("pasteInput").value;

const json=JSON.parse(text);

hideLoader();

render(json);

}

document.getElementById("fileInput").addEventListener("change",function(){

const reader=new FileReader();

reader.onload=function(){

const json=JSON.parse(reader.result);

hideLoader();

render(json);

};

reader.readAsText(this.files[0]);

});

function createLevelBar(value,max=100){

return `
<div class="level-container">

<div class="level-bar">
<div class="level-fill" style="width:${(value/max)*100}%"></div>
</div>

<div class="level-text">${value}</div>

</div>
`;

}

/* =========================
   RENDER ENGINE
========================= */

function render(data){

const dash=document.getElementById("dashboard");

dash.innerHTML="";

createCard("Device",data.device);
createCard("System",data.system);
createCard("CPU",data.cpu);
createBatteryCard(data.battery);
createCard("Network",data.network);
createConnectivityCard(data.connectivity);
createDisplayCard(data.display);
createAudioCard(data.audio);

if(data.widgets){

createArrayCard("Widgets ("+data.widgets.length+")",data.widgets);

}

if(data.calendar_snapshot){

const formatted=data.calendar_snapshot.map(e=>({

title:e.title,
date:new Date(e.start).toLocaleString()

}));

createArrayCard("Calendar",formatted);

}

}

/* =========================
   CARD BUILDERS
========================= */

function createCard(title,obj){

const dash=document.getElementById("dashboard");

let html=`
<div class="data-card">
<div class="data-title">${title}</div>
`;

for(let k in obj){

html+=`
<div class="data-row">
<div>${k}</div>
<div>${obj[k]}</div>
</div>
`;

}

html+="</div>";

dash.innerHTML+=html;

}

function createArrayCard(title,arr){

const dash=document.getElementById("dashboard");

let html=`
<div class="data-card">
<div class="data-title">${title}</div>
`;

arr.forEach(item=>{

for(let k in item){

html+=`
<div class="data-row">
<div>${k}</div>
<div>${item[k]}</div>
</div>
`;

}

html+="<hr>";

});

html+="</div>";

dash.innerHTML+=html;

}

function createBatteryCard(battery){

const dash=document.getElementById("dashboard");

const icon =
battery.status==="charging"
? "icons/phone.png"
: "icons/charge.png";

let html=`

<div class="data-card">

<div class="data-title">Battery</div>

<div style="display:flex;align-items:center;gap:15px">

<div class="battery-box">
<div class="battery-fill" style="width:${battery.level_percent}%"></div>
<div class="battery-cap"></div>
</div>

<div>
${battery.level_percent}%
<img src="${icon}" class="icon">
</div>

</div>

<div class="data-row">
<div>Status</div>
<div>${battery.status}</div>
</div>

</div>
`;

dash.innerHTML+=html;

}

function createDisplayCard(display){

const dash=document.getElementById("dashboard");

let html=`

<div class="data-card">

<div class="data-title">Display</div>

<div class="data-row">
<div>Brightness</div>
<div>${createLevelBar(display.brightness_level,255)}</div>
</div>

<div class="data-row">
<div>Resolution</div>
<div>${display.resolution}</div>
</div>

<div class="data-row">
<div>Density DPI</div>
<div>${display.density_dpi}</div>
</div>

</div>
`;

dash.innerHTML+=html;

}

function createAudioCard(audio){

const dash=document.getElementById("dashboard");

const ringerIcon={
ringing:"icons/bell.png",
vibrate:"icons/vibration.png",
silent:"icons/silent.png"
}[audio.ringer_mode] || "";

let html=`

<div class="data-card">

<div class="data-title">Audio</div>

<div class="data-row">
<div>Music Volume</div>
<div>${createLevelBar(audio.music_volume,15)}</div>
</div>

<div class="data-row">
<div>Ring Volume</div>
<div>${createLevelBar(audio.ring_volume,15)}</div>
</div>

<div class="data-row">
<div>Alarm Volume</div>
<div>${createLevelBar(audio.alarm_volume,15)}</div>
</div>

<div class="data-row">
<div>Ringer Mode</div>
<div>
${audio.ringer_mode}
<img src="${ringerIcon}" class="icon">
</div>
</div>

</div>
`;

dash.innerHTML+=html;

}

function createConnectivityCard(conn){

const dash=document.getElementById("dashboard");

const wifiIcon = conn.wifi_connected
? "icons/wifi.png"
: "icons/no-wifi.png";

const mobileIcon = conn.mobile_connected
? "icons/mobile-data.png"
: "icons/no-data.png";

let html=`

<div class="data-card">

<div class="data-title">Connectivity</div>

<div class="data-row">
<div>WiFi</div>
<div>
${conn.wifi_connected}
<img src="${wifiIcon}" class="icon">
</div>
</div>

<div class="data-row">
<div>Mobile Data</div>
<div>
${conn.mobile_connected}
<img src="${mobileIcon}" class="icon">
</div>
</div>

</div>
`;

dash.innerHTML+=html;

}

</script>

</body>
</html>
