<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Device Information Terminal</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">

<style>

/* =====================================================
   GLOBAL BACKGROUND
===================================================== */

body {

margin:0;
height:100vh;

background:
radial-gradient(circle at 20% 20%, rgba(0,150,255,0.15), transparent 40%),
radial-gradient(circle at 80% 80%, rgba(0,255,150,0.1), transparent 40%),
#05080c;

font-family:"Roboto",sans-serif;
color:#e6edf3;

overflow:hidden;

}

/* grid overlay */

body::before{

content:"";
position:fixed;
inset:0;

background-image:
linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);

background-size:40px 40px;

pointer-events:none;

}

/* =====================================================
   APP
===================================================== */

.deviceviewer-app{

height:100vh;
display:flex;
flex-direction:column;

}

/* =====================================================
   HEADER
===================================================== */

.deviceviewer-header{

padding:16px;

font-family:"Orbitron";

display:flex;
justify-content:space-between;

background:rgba(0,0,0,0.5);

border-bottom:1px solid rgba(88,166,255,0.4);

box-shadow:0 0 10px rgba(88,166,255,0.3);

}

.clock{

color:#58a6ff;
font-size:14px;

}

/* =====================================================
   CONTAINER
===================================================== */

.deviceviewer-container{

flex:1;
overflow-y:auto;
padding:16px;

}

/* =====================================================
   SECTION
===================================================== */

.deviceviewer-section{

background:rgba(22,27,34,0.85);

border-radius:12px;

margin-bottom:14px;

border:1px solid rgba(88,166,255,0.25);

transition:0.3s;

}

.deviceviewer-section:hover{

box-shadow:0 0 15px rgba(88,166,255,0.4);

}

/* =====================================================
   TITLE
===================================================== */

.deviceviewer-section-title{

padding:12px 14px;

font-family:"Orbitron";

font-size:13px;

letter-spacing:1px;

color:#58a6ff;

border-bottom:1px solid rgba(88,166,255,0.2);

}

/* =====================================================
   ROW
===================================================== */

.deviceviewer-row{

display:flex;
justify-content:space-between;

padding:10px 14px;

border-bottom:1px solid rgba(255,255,255,0.05);

}

.deviceviewer-row:last-child{

border-bottom:none;

}

/* =====================================================
   TEXT
===================================================== */

.deviceviewer-label{

color:#8b949e;

}

.deviceviewer-value{

font-weight:500;

}

/* =====================================================
   STATUS COLORS
===================================================== */

.status-good{

color:#00ffa6;

}

.status-warning{

color:#ffcc00;

}

.status-bad{

color:#ff4d4d;

}

/* =====================================================
   EMPTY
===================================================== */

.deviceviewer-empty{

padding:40px;
text-align:center;

color:#8b949e;

}

/* =====================================================
   SCROLLBAR
===================================================== */

.deviceviewer-container::-webkit-scrollbar{

width:6px;

}

.deviceviewer-container::-webkit-scrollbar-thumb{

background:#58a6ff;

}

</style>

</head>
<body>

<div id="app"></div>

<script>

/* =====================================================
   GLOBAL JSON STORAGE
===================================================== */

let currentJSON = null;

/* =====================================================
   LOAD JSON FROM URL PARAMETER
===================================================== */

async function loadJSONFromURL(){

showLoading();

try{

const params=new URLSearchParams(window.location.search);

const fileURL=params.get("file");

if(!fileURL){

showError("Missing file parameter in URL");
return;

}

const decodedURL=decodeURIComponent(fileURL);

console.log("Loading JSON:",decodedURL);

const response=await fetch(decodedURL);

if(!response.ok){

throw new Error("HTTP "+response.status);

}

currentJSON=await response.json();

renderDevice(document.getElementById("app"));

}

catch(error){

console.error(error);

showError("Failed to load JSON");

}

}

/* =====================================================
   LOADING SCREEN
===================================================== */

function showLoading(){

document.getElementById("app").innerHTML=`

<div class="deviceviewer-app">

<div class="deviceviewer-header">

<span>DEVICE TERMINAL</span>

<span class="clock" id="clock"></span>

</div>

<div class="deviceviewer-empty">

Loading device information...

</div>

</div>

`;

}

/* =====================================================
   ERROR SCREEN
===================================================== */

function showError(message){

document.getElementById("app").innerHTML=`

<div class="deviceviewer-app">

<div class="deviceviewer-header">

<span>DEVICE TERMINAL</span>

</div>

<div class="deviceviewer-empty">

${message}

</div>

</div>

`;

}

/* =====================================================
   RENDER DEVICE
===================================================== */

function renderDevice(container){

container.className="deviceviewer-app";

container.innerHTML=`

<div class="deviceviewer-header">

<span>DEVICE INFORMATION TERMINAL</span>

<span class="clock" id="clock"></span>

</div>

<div class="deviceviewer-container" id="deviceContainer"></div>

`;

const root=document.getElementById("deviceContainer");

renderSection(root,"Device",[

["Model",currentJSON.device?.model],
["Device Name",currentJSON.device?.device_name],
["Manufacturer",capitalize(currentJSON.device?.manufacturer)],
["Brand",capitalize(currentJSON.device?.brand)],
["Hardware",currentJSON.device?.hardware]

]);

renderSection(root,"System",[

["Android Version",currentJSON.system?.android_version],
["API Level",currentJSON.system?.api_level],
["Build",currentJSON.system?.build_display],
["Security Patch",currentJSON.system?.security_patch]

]);

renderSection(root,"CPU",[

["Processor",currentJSON.cpu?.processor],
["Architecture",currentJSON.cpu?.cpu_architecture],
["Cores",currentJSON.cpu?.cores]

]);

renderSection(root,"Battery",[

["Level",formatBattery(currentJSON.battery?.level_percent),getBatteryClass(currentJSON.battery?.level_percent)],
["Status",capitalize(currentJSON.battery?.status),getBatteryStatusClass(currentJSON.battery?.status)]

]);

renderSection(root,"Network",[

["IPv4",currentJSON.network?.ipv4],
["IPv6",currentJSON.network?.ipv6]

]);

renderSection(root,"Connectivity",[

["WiFi",formatConnection(currentJSON.connectivity?.wifi_connected),getConnectionClass(currentJSON.connectivity?.wifi_connected)],
["Mobile Data",formatConnection(currentJSON.connectivity?.mobile_connected),getConnectionClass(currentJSON.connectivity?.mobile_connected)]

]);

renderSection(root,"Display",[

["Resolution",currentJSON.display?.resolution],
["Density",currentJSON.display?.density],
["Brightness",currentJSON.display?.brightness_level+"%"],
["Timeout",formatTimeout(currentJSON.display?.screen_timeout_ms)]

]);

}

/* =====================================================
   SECTION ENGINE
===================================================== */

function renderSection(container,title,rows){

const section=document.createElement("div");

section.className="deviceviewer-section";

section.innerHTML=`
<div class="deviceviewer-section-title">${title}</div>
`;

rows.forEach(row=>{

if(!row[1])return;

const div=document.createElement("div");

div.className="deviceviewer-row";

div.innerHTML=`

<div class="deviceviewer-label">${row[0]}</div>

<div class="deviceviewer-value ${row[2]||""}">${row[1]}</div>

`;

section.appendChild(div);

});

container.appendChild(section);

}

/* =====================================================
   HELPERS
===================================================== */

function capitalize(text){

if(!text)return"Unknown";

return text.charAt(0).toUpperCase()+text.slice(1);

}

function formatBattery(level){

if(level==null)return"Unknown";

return level+"%";

}

function getBatteryClass(level){

if(level>=60)return"status-good";

if(level>=30)return"status-warning";

return"status-bad";

}

function getBatteryStatusClass(status){

if(status==="charging")return"status-good";

if(status==="discharging")return"status-warning";

return"";

}

function formatConnection(state){

return state?"Connected":"Disconnected";

}

function getConnectionClass(state){

return state?"status-good":"status-bad";

}

function formatTimeout(ms){

if(!ms)return"Unknown";

return Math.floor(ms/60000)+" minutes";

}

/* =====================================================
   CLOCK
===================================================== */

setInterval(()=>{

const clock=document.getElementById("clock");

if(clock){

clock.innerText=new Date().toLocaleTimeString();

}

},1000);

/* =====================================================
   INIT
===================================================== */

window.addEventListener("DOMContentLoaded",loadJSONFromURL);

</script>

</body>
</html>
