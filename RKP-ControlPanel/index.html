<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">

<title>Command Executor</title>

<link rel="stylesheet" href="styles.css">

</head>

<body>


<div class="container">

<div class="title">
Command Executor
</div>


<div class="commands">

<div class="command popup-btn" data-base="apps">
apps
</div>

<div class="command popup-btn" data-base="apps installed">
apps installed
</div>

<div class="command popup-btn" data-base="sms">
sms
</div>

<div class="command popup-btn" data-base="calls">
calls
</div>

<div class="command popup-btn" data-base="notification">
notification
</div>

<div class="command popup-btn" data-base="clipboard">
clipboard
</div>


<div class="command direct" data-cmd="contacts full">
contacts
</div>

<div class="command direct" data-cmd="deviceinfo">
device info
</div>

<div class="command direct" data-cmd="connection">
connection
</div>

<div class="command direct" data-cmd="none">
none
</div>


</div>


<button class="run-btn" onclick="execute()">
EXECUTE
</button>


</div>



<!-- POPUP -->

<div class="popup" id="popup">

<div class="popup-box">

<div>Select Range</div>

<button onclick="selectRange('full')">Full</button>

<button onclick="selectRange('1d')">1 Day</button>

<button onclick="selectRange('7d')">7 Days</button>

<button onclick="selectRange('30d')">30 Days</button>

<button onclick="closePopup()">Cancel</button>

</div>

</div>



<script>


let selected = new Set();

let currentBase = "";

const popup = document.getElementById("popup");



/* POPUP BUTTONS */

document.querySelectorAll(".popup-btn").forEach(btn=>{

btn.onclick=function(){

currentBase = this.dataset.base;

popup.style.display="flex";

};

});


/* DIRECT BUTTONS */

document.querySelectorAll(".direct").forEach(btn=>{

btn.onclick=function(){

toggle(this.dataset.cmd,this);

};

});


/* SELECT RANGE */

function selectRange(range){

let cmd = currentBase + " " + range;

let btn = findButton(currentBase);

toggle(cmd,btn);

popup.style.display="none";

}


/* CLOSE POPUP */

function closePopup(){

popup.style.display="none";

}


/* TOGGLE */

function toggle(cmd,btn){

if(selected.has(cmd)){

selected.delete(cmd);

btn.classList.remove("selected");

}
else{

selected.add(cmd);

btn.classList.add("selected");

}

}


/* FIND BUTTON */

function findButton(base){

return document.querySelector(
`[data-base="${base}"]`
);

}


/* EXECUTE */

function execute(){

if(selected.size===0){

alert("No command selected");

return;

}

let cmd = Array.from(selected).join(", ");

navigator.clipboard.writeText(cmd);

alert("Command copied:\n\n"+cmd);

}


</script>


</body>
</html>
