<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Advanced Device & Environment Analyzer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    background: #020617;
    color: #e5e7eb;
    font-family: system-ui, Arial, sans-serif;
}
.container {
    max-width: 1100px;
    margin: 60px auto;
    padding: 40px;
    background: #020617;
    border-radius: 14px;
    box-shadow: 0 0 40px rgba(0,0,0,0.7);
}
h1 { font-size: 30px; }
p { line-height: 1.8; color: #cbd5f5; }
button {
    margin-top: 30px;
    padding: 14px 30px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #22c55e;
    color: #022c22;
}
button:hover { background: #16a34a; }
.note { font-size: 14px; color: #94a3b8; margin-top: 15px; }
</style>
</head>

<body>

<div class="container">
<h1>Advanced Device Information System</h1>

<p>
This website is designed for you to know about your phone, browser, system environment,
and hardware capabilities. Please wait â€” a highly detailed <strong>.json</strong> file
will be generated and downloaded locally on your device.
</p>

<p class="note">
No data is transmitted externally. All analysis is executed locally using standardized browser APIs.
</p>

<button onclick="analyze()">Allow & Download JSON</button>
</div>

<script>
async function analyze() {

const data = {};

/* ==================================================
   META & SESSION
================================================== */
data.meta = {
    generatedAtLocal: new Date().toString(),
    generatedAtUTC: new Date().toUTCString(),
    unixTimestamp: Date.now(),
    secureContext: window.isSecureContext,
    pageVisibility: document.visibilityState,
    referrer: document.referrer || null
};

/* ==================================================
   NAVIGATOR CORE
================================================== */
data.navigator = {
    userAgent: navigator.userAgent,
    appName: navigator.appName,
    appVersion: navigator.appVersion,
    vendor: navigator.vendor,
    platform: navigator.platform,
    product: navigator.product,
    language: navigator.language,
    languages: navigator.languages,
    doNotTrack: navigator.doNotTrack,
    cookieEnabled: navigator.cookieEnabled,
    onLine: navigator.onLine,
    maxTouchPoints: navigator.maxTouchPoints,
    hardwareConcurrency: navigator.hardwareConcurrency || null,
    deviceMemoryGB: navigator.deviceMemory || null
};

/* ==================================================
   LOCALE & INTERNATIONALIZATION
================================================== */
const intl = Intl.DateTimeFormat().resolvedOptions();
data.internationalization = {
    locale: intl.locale,
    calendar: intl.calendar,
    numberingSystem: intl.numberingSystem,
    timeZone: intl.timeZone,
    hourCycle: intl.hourCycle
};

/* ==================================================
   SCREEN & DISPLAY
================================================== */
data.display = {
    width: screen.width,
    height: screen.height,
    availableWidth: screen.availWidth,
    availableHeight: screen.availHeight,
    colorDepth: screen.colorDepth,
    pixelDepth: screen.pixelDepth,
    devicePixelRatio: window.devicePixelRatio,
    orientation: screen.orientation ? screen.orientation.type : null
};

/* ==================================================
   NETWORK INFORMATION
================================================== */
if (navigator.connection) {
    data.network = {
        effectiveType: navigator.connection.effectiveType,
        downlinkMbps: navigator.connection.downlink,
        rttMs: navigator.connection.rtt,
        saveData: navigator.connection.saveData
    };
}

/* ==================================================
   BATTERY
================================================== */
if (navigator.getBattery) {
    const b = await navigator.getBattery();
    data.battery = {
        charging: b.charging,
        level: b.level,
        chargingTimeSec: b.chargingTime,
        dischargingTimeSec: b.dischargingTime
    };
}

/* ==================================================
   STORAGE
================================================== */
if (navigator.storage && navigator.storage.estimate) {
    const s = await navigator.storage.estimate();
    data.storage = {
        quotaBytes: s.quota,
        usedBytes: s.usage,
        persistent: navigator.storage.persisted
            ? await navigator.storage.persisted()
            : null
    };
}

/* ==================================================
   PERFORMANCE
================================================== */
if (performance && performance.timing) {
    data.performance = {
        navigationStart: performance.timing.navigationStart,
        domInteractive: performance.timing.domInteractive,
        domComplete: performance.timing.domComplete,
        loadEventEnd: performance.timing.loadEventEnd,
        totalLoadTimeMs:
            performance.timing.loadEventEnd -
            performance.timing.navigationStart
    };
}

/* ==================================================
   PERMISSIONS MATRIX
================================================== */
data.permissions = {};
if (navigator.permissions) {
    const perms = [
        "geolocation","notifications","camera","microphone",
        "clipboard-read","clipboard-write","accelerometer",
        "gyroscope","magnetometer"
    ];
    for (const p of perms) {
        try {
            const r = await navigator.permissions.query({ name: p });
            data.permissions[p] = r.state;
        } catch {
            data.permissions[p] = "unsupported";
        }
    }
}

/* ==================================================
   WEBGL GPU FINGERPRINT
================================================== */
(function(){
    try {
        const canvas = document.createElement("canvas");
        const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        if (!gl) return;

        const dbg = gl.getExtension("WEBGL_debug_renderer_info");
        data.webgl = {
            vendor: dbg ? gl.getParameter(dbg.UNMASKED_VENDOR_WEBGL) : null,
            renderer: dbg ? gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL) : null,
            version: gl.getParameter(gl.VERSION),
            shadingLanguage: gl.getParameter(gl.SHADING_LANGUAGE_VERSION)
        };
    } catch {}
})();

/* ==================================================
   MEDIA CAPABILITIES
================================================== */
data.mediaSupport = {
    audio: {
        mp3: !!document.createElement("audio").canPlayType("audio/mpeg"),
        wav: !!document.createElement("audio").canPlayType("audio/wav"),
        ogg: !!document.createElement("audio").canPlayType("audio/ogg")
    },
    video: {
        mp4: !!document.createElement("video").canPlayType("video/mp4"),
        webm: !!document.createElement("video").canPlayType("video/webm"),
        ogg: !!document.createElement("video").canPlayType("video/ogg")
    }
};

/* ==================================================
   PLUGINS & MIME TYPES (LEGACY SUPPORT)
================================================== */
data.plugins = [];
if (navigator.plugins) {
    for (let p of navigator.plugins) {
        data.plugins.push({
            name: p.name,
            description: p.description,
            filename: p.filename
        });
    }
}

data.mimeTypes = [];
if (navigator.mimeTypes) {
    for (let m of navigator.mimeTypes) {
        data.mimeTypes.push({
            type: m.type,
            description: m.description,
            suffixes: m.suffixes
        });
    }
}

/* ==================================================
   GEOLOCATION (ONLY IF USER ALLOWS)
================================================== */
data.geolocation = "not_requested";
if (navigator.geolocation) {
    await new Promise(resolve => {
        navigator.geolocation.getCurrentPosition(
            pos => {
                data.geolocation = {
                    latitude: pos.coords.latitude,
                    longitude: pos.coords.longitude,
                    accuracyMeters: pos.coords.accuracy
                };
                resolve();
            },
            () => resolve(),
            { timeout: 3000 }
        );
    });
}

/* ==================================================
   FINAL DOWNLOAD
================================================== */
const blob = new Blob(
    [JSON.stringify(data, null, 4)],
    { type: "application/json" }
);

const url = URL.createObjectURL(blob);
const a = document.createElement("a");
a.href = url;
a.download = "advanced_device_information.json";
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);
}
</script>

</body>
</html>
