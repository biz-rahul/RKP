<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rahlex Decoder - Decode Secret Messages</title>

<style>
:root {
  --bg-primary: #0f0f23;
  --bg-secondary: #1a1a2e;
  --glass: rgba(255,255,255,0.08);
  --border: rgba(255,255,255,0.12);
  --text-primary: #ffffff;
  --text-secondary: #a0a0cc;
  --accent: #ec4899;
  --accent-hover: #be185d;
  --success: #10b981;
  --encode-btn: #4f46e5;
  --encode-hover: #3730a3;
  --share: #f59e0b;
  --share-hover: #d97706;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  min-height: 100vh;
  overflow-x: hidden;
}

/* ===== CONTAINER ===== */
.container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

/* ===== HEADER ===== */
.header {
  text-align: center;
  padding: 40px 0 20px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 40px;
}

.header h1 {
  font-size: clamp(1.8rem, 5vw, 2.8rem);
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent), #f472b6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 12px;
}

.header p {
  color: var(--text-secondary);
  font-size: 1.1rem;
  max-width: 600px;
  margin: 0 auto 20px;
}

.encode-nav {
  display: inline-block;
  margin-top: 20px;
}

.encode-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 28px;
  background: linear-gradient(135deg, var(--encode-btn), var(--encode-hover));
  color: white;
  border: none;
  border-radius: 50px;
  font-weight: 600;
  font-size: 15px;
  text-decoration: none;
  transition: all 0.2s ease;
  box-shadow: 0 8px 25px rgba(79, 70, 229, 0.3);
}

.encode-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 35px rgba(79, 70, 229, 0.4);
}

/* ===== DECODER SECTION ===== */
.decoder-section {
  background: var(--glass);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 40px;
  margin-bottom: 60px;
}

@media (min-width: 768px) {
  .decoder-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
  }
}

.card {
  background: rgba(255,255,255,0.03);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 30px;
  transition: all 0.2s ease;
}

.card:hover {
  border-color: rgba(236, 72, 153, 0.3);
  transform: translateY(-2px);
}

.card-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

.card-header h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.icon-input { color: var(--accent); }
.icon-output { color: var(--success); }

.textarea {
  width: 100%;
  min-height: 220px;
  background: rgba(0,0,0,0.4);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 15px;
  color: var(--text-primary);
  resize: vertical;
  transition: border-color 0.2s ease;
}

.textarea:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
}

.textarea::placeholder {
  color: var(--text-secondary);
}

.btn-group {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 24px 0;
}

.btn {
  padding: 14px 24px;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 120px;
  justify-content: center;
}

.btn-primary {
  background: var(--accent);
  color: white;
}

.btn-primary:hover {
  background: var(--accent-hover);
  transform: translateY(-1px);
}

.btn-secondary {
  background: rgba(255,255,255,0.08);
  color: var(--text-primary);
  border: 1px solid var(--border);
}

.btn-secondary:hover {
  background: rgba(255,255,255,0.12);
  border-color: var(--accent);
}

.btn-share {
  background: var(--share);
  color: white;
}

.btn-share:hover {
  background: var(--share-hover);
  transform: translateY(-1px);
}

.profile {
  background: var(--glass);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 40px;
  text-align: center;
  margin-bottom: 40px;
}

.profile-avatar {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid var(--accent);
  margin: 0 auto 24px;
  transition: transform 0.2s ease;
  box-shadow: 0 10px 30px rgba(236, 72, 153, 0.3);
}

.profile:hover .profile-avatar {
  transform: scale(1.05);
}

.profile h2 {
  font-size: 2rem;
  margin-bottom: 12px;
  background: linear-gradient(135deg, var(--accent), #f472b6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.profile-subtitle {
  color: var(--text-secondary);
  font-size: 1rem;
  margin-bottom: 24px;
}

.footer {
  text-align: center;
  padding: 40px 0;
  border-top: 1px solid var(--border);
  color: var(--text-secondary);
  font-size: 14px;
}

.footer span {
  color: var(--accent);
  font-weight: 600;
}

.toast {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 16px 24px;
  border-radius: 12px;
  color: white;
  font-weight: 600;
  z-index: 1000;
  transform: translateX(400px);
  transition: transform 0.3s ease;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  max-width: 350px;
}

.toast.success { background: var(--success); }
.toast.show { transform: translateX(0); }

@media (max-width: 768px) {
  .container { padding: 16px; }
  .decoder-section { padding: 24px; }
  .decoder-grid { grid-template-columns: 1fr; gap: 30px; }
  .card { padding: 24px; }
  .btn-group { flex-direction: column; }
  .btn { justify-content: center; }
  .profile { padding: 24px; }
  .profile-avatar { width: 100px; height: 100px; }
  .encode-btn { 
    padding: 12px 20px; 
    font-size: 14px;
    width: 100%;
    justify-content: center;
  }
}
</style>
</head>

<body>
<div class="container">
  <header class="header" role="banner">
    <h1>üîì Rahlex Decoder</h1>
    <p>Reveal hidden messages encoded with Rahlex. Paste your secret code here!</p>
    <nav class="encode-nav" role="navigation">
      <a href="../" class="encode-btn" aria-label="Go to Rahlex Encoder">
        üîê Encode Messages
      </a>
    </nav>
  </header>
  
  <section class="profile" role="banner">
    <img src="../RKP.webp" alt="Rahul Kumar Puri" class="profile-avatar" loading="lazy">
    <h2>Rahul Kumar Puri</h2>
    <p class="profile-subtitle">Secret Language Master</p>
  </section>

  <section class="decoder-section" role="main">
    <div class="decoder-grid">
      <article class="card">
        <header class="card-header">
          <span class="icon-input" aria-hidden="true">üîç</span>
          <h2>Encoded Input</h2>
        </header>
        
        <textarea 
          id="inputText" 
          class="textarea"
          rows="8"
          aria-label="Encoded message to decode"
          placeholder="Paste your Rahlex encoded message here..."
        ></textarea>
        
        <div class="btn-group">
          <button class="btn btn-primary" onclick="decodeText()">
            üîì Decode Message
          </button>
          <button class="btn btn-secondary" onclick="clearText()">
            üóëÔ∏è Clear Input
          </button>
        </div>
      </article>

      <article class="card">
        <header class="card-header">
          <span class="icon-output" aria-hidden="true">‚ú®</span>
          <h2>Decoded Message</h2>
        </header>
        
        <textarea 
          id="outputText" 
          class="textarea"
          readonly
          rows="8"
          aria-label="Decoded output"
          placeholder="Decoded message will appear here..."
        ></textarea>
        
        <div class="btn-group">
          <button class="btn btn-primary" onclick="copyOutput()">
            üìã Copy Decoded Text
          </button>
          <button class="btn btn-share" onclick="shareOutput()">
            üì± Share Message
          </button>
          <button class="btn btn-primary" onclick="exportTxt()">
            üíæ Save as TXT
          </button>
        </div>
      </article>
    </div>
  </section>

  <footer class="footer" role="contentinfo">
    <p>Rahlex Decoder ‚Ä¢ Created by <span>Rahul Kumar Puri</span> ‚Ä¢ 2026</p>
  </footer>
</div>

<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
const decodeMap = {
  'T':'A','Z':'B','F':'C','R':'D','Y':'E','B':'F','L':'G','7':'H','2':'I','9':'J',
  '4':'K','1':'L','8':'M','0':'N','6':'O','3':'P','5':'Q','A':'R','X':'S','G':'T',
  'C':'U','M':'V','D':'W','J':'X','P':'Y','V':'Z',
  'Q':'0','H':'1','N':'2','J':'3','O':'4','M':'5','P':'6','K':'7','I':'8','‚àö':'9',
  '‚Ç¨':'@','^':'#','‚Ä¢':'‚Çπ','‚Ñ¢':'_','œÄ':'&','‚àÜ':'-','¬•':'+','`':'(',')':'/', '¬ß':'/',
  '$':'?','%':'!','¬©':';','¬Æ':':','=':'\'','¬∞':'"','~':',','`':'.',
  '!':'|','[':'~','_':'`','#':']','&':'{','*':'}','/':'=',
  '>':'<','<':'>','‚Çπ':'[','(':'¬•',')':'('
};

function decodeText() {
  const input = document.getElementById('inputText').value;
  let result = '';
  
  for (let char of input) {
    if (char === '‚ê£') {
      result += ' ';
    } else {
      const upper = char.toUpperCase();
      if (decodeMap[upper]) {
        result += char.toLowerCase() === char ? decodeMap[upper].toLowerCase() : decodeMap[upper];
      } else {
        result += char;
      }
    }
  }
  
  document.getElementById('outputText').value = result;
  showToast('‚úÖ Decoded successfully!');
}

function clearText() {
  document.getElementById('inputText').value = '';
  document.getElementById('outputText').value = '';
  showToast('üóëÔ∏è Cleared!');
}

async function copyOutput() {
  try {
    await navigator.clipboard.writeText(document.getElementById('outputText').value);
    showToast('üìã Copied decoded text!');
  } catch {
    fallbackCopy();
  }
}

function fallbackCopy() {
  const textArea = document.createElement('textarea');
  textArea.value = document.getElementById('outputText').value;
  document.body.appendChild(textArea);
  textArea.select();
  document.execCommand('copy');
  document.body.removeChild(textArea);
  showToast('üìã Copied!');
}

async function shareOutput() {
  const decodedText = document.getElementById('outputText').value.trim();
  
  if (!decodedText) {
    showToast('‚ö†Ô∏è No decoded message to share!');
    return;
  }

  if (navigator.share) {
    try {
      // FIXED: Only send text, no URL - this ensures decoded text is primary content
      const shareData = {
        title: 'üîì Rahlex Decoded',
        text: decodedText
        // Removed URL completely - this was causing the website link to share instead
      };
      
      await navigator.share(shareData);
      showToast('üì± Shared decoded message!');
    } catch (err) {
      if (err.name !== 'AbortError') {
        // Fallback to copy if share fails
        try {
          await navigator.clipboard.writeText(decodedText);
          showToast('üìã Copied! Paste to share.');
        } catch {
          fallbackCopy();
        }
      }
    }
  } else {
    // Desktop fallback - copy to clipboard
    try {
      await navigator.clipboard.writeText(decodedText);
      showToast('üìã Copied! Paste anywhere to share.');
    } catch {
      fallbackCopy();
    }
  }
}

function exportTxt() {
  const text = document.getElementById('outputText').value;
  if (!text.trim()) {
    showToast('‚ö†Ô∏è Nothing to save!');
    return;
  }
  const blob = new Blob([text], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `rahlex-decoded-${Date.now()}.txt`;
  a.click();
  URL.revokeObjectURL(url);
  showToast('üíæ File saved!');
}

function showToast(message) {
  const toast = document.getElementById('toast');
  toast.textContent = message;
  toast.className = 'toast success show';
  setTimeout(() => toast.classList.remove('show'), 2500);
}

document.addEventListener('keydown', (e) => {
  if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
    e.preventDefault();
    decodeText();
  }
});

function resizeTextareas() {
  document.querySelectorAll('.textarea').forEach(el => {
    el.style.height = 'auto';
    el.style.height = Math.min(el.scrollHeight, 350) + 'px';
  });
}

document.addEventListener('DOMContentLoaded', resizeTextareas);
document.querySelectorAll('.textarea').forEach(el => 
  el.addEventListener('input', resizeTextareas)
);
</script>

</body>
</html>
