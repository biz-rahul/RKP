<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thank you — You're on the list ✨</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #0f172a; /* deep */
      --bg2: #0b1220;
      --accent1: #7c3aed; /* purple */
      --accent2: #06b6d4; /* cyan */
      --glass: rgba(255,255,255,0.06);
      --muted: rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(800px 400px at 10% 10%, rgba(124,58,237,0.12), transparent),
                  radial-gradient(600px 300px at 90% 90%, rgba(6,182,212,0.08), transparent),
                  linear-gradient(180deg,var(--bg1), var(--bg2));
      color:#fff; -webkit-font-smoothing:antialiased; display:flex; align-items:center; justify-content:center;
      padding:32px;
    }.container{
  width:min(880px, 96%);
  display:grid; grid-template-columns:1fr 360px; gap:32px; align-items:center;
}

.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:18px; padding:36px; box-shadow: 0 8px 30px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.04);
}

.left{padding:28px}
h1{font-size:28px; margin:0 0 8px; letter-spacing:-0.01em}
p.lead{margin:0 0 18px; color:var(--muted);}

.badge{
  display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border-radius:999px; background:linear-gradient(90deg,var(--accent1),var(--accent2));
  font-weight:700; font-size:13px; color:#001220; box-shadow:0 6px 20px rgba(6,182,212,0.12);
}

.email-pill{margin-top:14px; display:inline-flex; gap:10px; align-items:center; padding:10px 14px; background:var(--glass); border-radius:999px; color:var(--muted);}

.actions{margin-top:22px; display:flex; gap:12px; align-items:center}
.btn{display:inline-flex; gap:10px; align-items:center; padding:10px 14px; border-radius:12px; font-weight:600; cursor:pointer; border:none}
.btn.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#001220}
.btn.ghost{background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted)}

.right{display:flex; align-items:center; justify-content:center}
.visual{
  width:100%; max-width:360px; height:320px; position:relative; display:flex; align-items:center; justify-content:center;
}

/* envelope/check animation */
.envelope{
  width:160px; height:110px; position:relative; perspective:800px;
}
.flap{
  position:absolute; inset:0; transform-origin:top center; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  display:flex; align-items:center; justify-content:center; font-weight:700; color:var(--muted); transition:transform 700ms cubic-bezier(.2,.9,.3,1);
}
.letter{
  position:absolute; inset:12px; border-radius:10px; background:linear-gradient(180deg,#021127, rgba(255,255,255,0.02)); display:flex; align-items:center; justify-content:center; flex-direction:column; padding:20px; transform:translateY(0);
  box-shadow:0 14px 30px rgba(2,6,23,0.6);
}

.flap.open{transform:rotateX(-180deg) translateY(-14px)}

.check{
  width:72px; height:72px; border-radius:999px; display:grid; place-items:center; background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#001220; font-weight:800; font-size:24px; box-shadow:0 10px 30px rgba(124,58,237,0.18);
  transform:translateY(12px) scale(0.9); opacity:0; transition:all 600ms cubic-bezier(.2,.9,.3,1);
}
.check.show{transform:translateY(0) scale(1); opacity:1}

/* confetti */
.confetti-piece{position:absolute; width:10px; height:16px; opacity:0.95; border-radius:2px; will-change:transform;}

/* responsive */
@media (max-width:880px){
  .container{grid-template-columns:1fr;}
  .right{order:-1;margin-bottom:6px}
  .visual{height:240px}
}

/* small helper */
.muted{color:var(--muted)}

  </style>
</head>
<body>
  <div class="container">
    <div class="card left">
      <div class="badge">Subscribed ✅</div>
      <h1>Thanks — we got your email.</h1>
      <p class="lead">You just joined the cool list. Expect the good stuff: updates, offers and the occasional mind-altering newsletter. No spam. No bullshit.</p><div id="emailWrap" class="email-pill" aria-live="polite">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M3 8l8.5 6L20 8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
    <span id="emailText">your@email.com</span>
    <button id="copyBtn" class="btn ghost" style="margin-left:auto">Copy</button>
  </div>

  <div class="actions">
    <button id="ctaHome" class="btn primary">Back to site</button>
    <button id="ctaMore" class="btn ghost">See other offers</button>
    <a id="shareLink" class="btn ghost" style="text-decoration:none">Share</a>
  </div>

  <p class="muted" style="margin-top:18px">Tip: You can pass the email in the URL as <code>?email=you%40mail.com</code> and this page will show it.</p>
</div>

<div class="card right" aria-hidden="false">
  <div class="visual">
    <div class="envelope" id="envelope">
      <div class="flap" id="flap"> </div>
      <div class="letter">
        <div id="check" class="check">✓</div>
        <div style="margin-top:6px;color:var(--muted);font-weight:600">You're in</div>
      </div>
    </div>
    <!-- Confetti container -->
    <div id="confetti"></div>
  </div>
</div>

  </div>  <script>
    // ---- Utilities ----
    const qs = (k)=> new URLSearchParams(location.search).get(k);
    const emailText = document.getElementById('emailText');
    const copyBtn = document.getElementById('copyBtn');
    const flap = document.getElementById('flap');
    const check = document.getElementById('check');
    const confettiRoot = document.getElementById('confetti');

    // Read email from query param or local fallback
    const rawEmail = qs('email') || localStorage.getItem('submittedEmail') || '';
    const maskEmail = (e)=>{
      if(!e) return 'No email found';
      const [u,d] = e.split('@');
      if(!d) return e;
      const visible = u.length <= 2 ? u[0] + '•' : u.slice(0,2) + '•••';
      return visible + '@' + d;
    }

    emailText.textContent = rawEmail ? maskEmail(rawEmail) : '— no email supplied —';

    if(rawEmail){
      // animate envelope after load
      setTimeout(()=>{
        flap.classList.add('open');
      },500);
      setTimeout(()=>{
        check.classList.add('show');
        launchConfetti(28);
      },950);
    } else {
      // little idle wiggle
      setInterval(()=>{ flap.animate([{transform:'rotateX(0)'},{transform:'rotateX(-8deg)'},{transform:'rotateX(0)'}],{duration:2000,iterations:1}) },3500)
    }

    // Copy to clipboard
    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(rawEmail || '');
        copyBtn.textContent = 'Copied!';
        setTimeout(()=> copyBtn.textContent = 'Copy',1200);
      }catch(e){
        copyBtn.textContent = 'Unable';
        setTimeout(()=> copyBtn.textContent = 'Copy',1200);
      }
    })

    // CTA buttons (example behavior)
    document.getElementById('ctaHome').addEventListener('click', ()=> location.href = '/');
    document.getElementById('ctaMore').addEventListener('click', ()=> location.href = '/offers');
    document.getElementById('shareLink').addEventListener('click', ()=>{
      const url = location.href;
      if(navigator.share){
        navigator.share({title:'I just subscribed', text:'Joined this list', url});
      }else{
        navigator.clipboard.writeText(url).then(()=>{
          alert('Link copied to clipboard');
        })
      }
    })

    // Save email to localStorage so this page can show it even if the redirect removes it
    if(rawEmail) localStorage.setItem('submittedEmail', rawEmail);

    // ---- Confetti (small, zero-dep) ----
    function launchConfetti(amount=20){
      const colors = ['#7c3aed','#06b6d4','#fb7185','#f59e0b','#34d399'];
      const rootRect = confettiRoot.getBoundingClientRect();
      for(let i=0;i<amount;i++){
        const el = document.createElement('div');
        el.className = 'confetti-piece';
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.left = (Math.random()*100) + '%';
        el.style.top = (Math.random()*20) + '%';
        confettiRoot.appendChild(el);
        const dx = (Math.random()-0.5)*200;
        const dy = 300 + Math.random()*300;
        const rot = Math.random()*720;
        el.animate([
          { transform: `translateY(0) rotate(0deg)`, opacity:1},
          { transform: `translateY(${dy}px) translateX(${dx}px) rotate(${rot}deg)`, opacity:0}
        ],{duration: 1300 + Math.random()*900, easing:'cubic-bezier(.2,.8,.2,1)'});
        setTimeout(()=> el.remove(), 2300);
      }
    }

    // Accessibility: announce
    if(rawEmail){
      setTimeout(()=>{
        const live = document.createElement('div');
        live.setAttribute('aria-live','polite'); live.style.position='absolute'; live.style.left='-9999px';
        live.textContent = `Subscription confirmed for ${rawEmail}`;
        document.body.appendChild(live);
      },1200)
    }

    // For dev: allow pressing 'r' to relaunch confetti because why not
    window.addEventListener('keydown', (e)=>{ if(e.key==='r') launchConfetti(36) })
  </script></body>
</html>
