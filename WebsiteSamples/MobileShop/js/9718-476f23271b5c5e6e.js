"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9718],{34056:function(e,t,a){a(67294),a(9473),a(85893),a(91016),a(26189),a(37243),a(44427)},91016:function(e,t,a){a.d(t,{L:function(){return u},q:function(){return d}});var s=a(50029),n=a(87794),l=a.n(n),i=a(23515),c=a(70594),r=a(11569),o=a(26189);(0,r.XD)();var d=function(e){var t;return t=(0,s.Z)(l().mark(function t(a){var s,n,d,u,h,m,p;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=(0,r.XD)(),n="",d="",t.next=5,Promise.all([(0,o.Qo)(e)]);case 5:return(u=t.sent)&&(n=null===(h=u[0])||void 0===h?void 0:h.token,d=null===(m=u[0])||void 0===m?void 0:m.client_id),e.jwt_token=n,e.client_id=d,t.prev=9,t.next=12,c.Z.post((0,r.bs)(),e,{headers:s}).catch(function(e){console.log(e)});case 12:console.log(p=t.sent),200===p.status?!0===p.data.Success&&200===p.data.Code?a({type:i.AN,payload:p.data.Data}):(console.log(p.data),a({type:i.GB,payload:p.data})):a({type:i.GB,payload:p.data}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),a({type:i.GB,payload:t.t0});case 20:case"end":return t.stop()}},t,null,[[9,17]])})),function(e){return t.apply(this,arguments)}},u=function(e,t,a,n,o,d,u){var h;return h=(0,s.Z)(l().mark(function s(h){var m,p,x;return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n(!0),m=(0,r.XD)(),s.prev=2,s.next=5,c.Z.post((0,r.HT)(),e,{headers:m}).catch(function(e){console.log(e)});case 5:200===(p=s.sent).status?!0===p.data.Success&&200===p.data.Code?(h({type:i.lo,payload:p}),n(!1),t(!1),d(!1),a(!0),u(p.data.Data.balance)):(h({type:i.oA,payload:p.data}),n(!1),d(!0),o(null!=p&&null!==(x=p.data)&&void 0!==x&&x.message?p.data.message:"Error")):h({type:i.oA,payload:p.data}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(2),h({type:i.oA,payload:s.t0});case 12:case"end":return s.stop()}},s,null,[[2,9]])})),function(e){return h.apply(this,arguments)}}},20159:function(e,t,a){a.d(t,{Z:function(){return x}});var s=a(67294),n=a(9473),l=a(6212),i=a(35005),c={src:"/_next/static/media/LoyalityPoints.dab98dbf.png",height:304,width:373,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/Af+4ABYADAAB7fhWBBMcqhP2807SC4OxAv+xAf4A/M0AAfG6YGsABvr1DnByqO88n6n1BQ+UHGGG2AD1ff4AOILmAeW5Y2kSEwAd/uotTvnp9CsLLQ/vBiQGW8W5EkAOB//HAbSagGoI/AI2OfXHVQdKRgn54/gBBxYl/KvfGPXDwNk5AXR7rV0PAPz2YRDGefMvPzMHKCP+C8LZArfa/eLa9s5TAba8zX3o9wdd2e//BRgF+yApHwr2NxPtbrfUCFfL5fyQAXWTyB0ZEgaO8vD0Pef9CelpKNvGLw2eMNoYnYnP4QvCQsps+blpWLIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7},r={src:"/_next/static/media/loyality_card.1f3b6b38.png",height:42,width:55,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAx0lEQVR42h2OTQqCQACF3zQa2WSQkLgsENdF645QK4mCLtGmTacIuoDgqjN4gWwbEYQE/VAbhYrGEHRK3/a9x/cRx3GWm+2e6k0GiZbAGAOlFGmawjAMkMl49Px+1vXdoYrjkcO27WKUZRk0TeN0OOjPpuMOuz/K6Zs3EPNIXK834XkeMU3zJYWRwHyxR61WRa9rQpZlhGEoVFUtUFIcx5Xz5YR2u0XLvCjh+z7y6LquENd1V0EQUEVRRC6WJAmEEPgfYVkW+QGt8VEcVNKsHQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},o=a(85893),d=function(e){var t=e.showResult,a=e.onHide,s=e.balance,n=e.tryAgain;return console.log("showResult",t),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.Z,{show:t,size:"md",backdrop:"static",onHide:a,className:"loyalty","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,o.jsx)(l.Z.Header,{closeButton:!0,children:(0,o.jsx)(l.Z.Title,{id:"contained-modal-title-vcenter",className:"w-100",children:(0,o.jsx)("h5",{className:"modal-heading m-0",children:"Loyalty Points"})})}),(0,o.jsx)(l.Z.Body,{className:"p-0",children:(0,o.jsxs)("div",{className:"Loyality_result_page",children:[(0,o.jsxs)("div",{className:"result_card mt-5 mb-5",children:[(0,o.jsx)("div",{className:"loyality_result_title",children:"Balance Fetched Successfully"}),(0,o.jsxs)("div",{className:"loyality_result",children:["â‚¹",s]})]}),(0,o.jsx)("div",{className:"loyality_reload mt-3 mb-5",onClick:n,children:(0,o.jsxs)("div",{className:"loyality_result_try",children:["Try again ",(0,o.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",version:"1.1",viewBox:"0 0 17 17",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("g",{}),(0,o.jsx)("path",{d:"M6 8h-6v-6h1v4.109c1.013-3.193 4.036-5.484 7.5-5.484 3.506 0 6.621 2.36 7.574 5.739l-0.963 0.271c-0.832-2.95-3.551-5.011-6.611-5.011-3.226 0.001-6.016 2.276-6.708 5.376h4.208v1zM11 9v1h4.208c-0.693 3.101-3.479 5.375-6.708 5.375-3.062 0-5.78-2.061-6.611-5.011l-0.963 0.271c0.952 3.379 4.067 5.739 7.574 5.739 3.459 0 6.475-2.28 7.5-5.482v4.108h1v-6h-6z"})]})]})})]})})]})})},u=a(91016),h=a(26189),m=a(93911),p=a(11594),x=function(e){var t=e.show,a=e.setshow,x=e.onHide,A=e.pageType,y=(0,s.useState)(!1),g=y[0],v=y[1],f=(0,s.useState)(),j=f[0],N=f[1],_=(0,s.useState)(""),w=_[0],b=_[1],k=(0,s.useState)(""),B=k[0],C=k[1],E=(0,s.useState)(""),L=E[0],P=E[1],R=(0,s.useState)(!1),G=R[0],S=R[1],Z=(0,s.useState)(!1),Q=Z[0],H=Z[1],W=(0,s.useState)("error"),D=W[0];W[1];var Y=(0,s.useState)(!1),O=Y[0],U=Y[1],V=(0,s.useState)(252),z=V[0],K=V[1],X=(0,h.wr)(),F=null!==X&&!1!==X?X.customerId:"",M=(0,n.I0)(),I={user_id:F};(0,s.useEffect)(function(){M((0,u.q)(I))},[M]);var T=(0,n.v9)(function(e){return e.LoyalityPointsDetails.getProgramList});console.log("loyalitypointsData",T),(0,s.useEffect)(function(){N(T)},[T]);var q=function(){M((0,u.L)({program_code:w,mobile_number:B,card_last_four:L,user_id:F},a,v,S,U,H,K))};return(0,n.v9)(function(e){return e.LoyalityPointsDetails.getLoyalityBalance}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{show:t,onHide:x,backdrop:"static",size:"md",className:"loyalty","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,o.jsx)(l.Z.Header,{closeButton:!0,children:(0,o.jsx)(l.Z.Title,{id:"contained-modal-title-vcenter",className:"w-100",children:(0,o.jsx)("h5",{className:"modal-heading m-0",children:"Loyalty Points"})})}),(0,o.jsx)(l.Z.Body,{children:(0,o.jsxs)("div",{className:"w-100% d-flex flex-column justify-content-center align-items-center  p-1",children:[(0,o.jsx)("div",{className:"loyality_heading_banner ",children:(0,o.jsx)("p",{className:"text-white",children:"Check Your Bank Points "})}),(0,o.jsx)("img",{src:c.src,alt:"",className:"w-50"}),(0,o.jsxs)("div",{className:"loyality_point",children:[(0,o.jsx)("p",{className:"ps-4",children:"Bank Registered Mobile No"}),(0,o.jsx)("input",{type:"text",value:B,className:"loyality_data_field ps-4 pe-5",maxLength:"10",onChange:function(e){C(e.target.value)}})]}),(0,o.jsxs)("div",{className:"loyality_point",children:[(0,o.jsx)("p",{className:"ps-4",children:"All banks"}),(0,o.jsxs)("select",{className:"loyality_data_field mt-0 ps-4 pe-4",value:w,onChange:function(e){b(e.target.value)},children:[(0,o.jsx)("option",{className:"loyality_select_option",children:"-select-"}),j&&j.length>0&&j.map(function(e,t){return(0,o.jsx)("option",{value:e.program_code,children:e.program_name},t)})]})]}),(0,o.jsxs)("div",{className:"loyality_point",children:[(0,o.jsx)("p",{className:"ps-4",children:"Card number(Enter last 4 digits)"}),(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center loyality_data_field p-1 mt-0",children:[(0,o.jsxs)("div",{className:"ps-4 d-flex justify-content-center align-items-center",children:[(0,o.jsx)("span",{children:"xxxxxxxxxxx"}),(0,o.jsx)("input",{type:"text",maxLength:"4",value:L,className:"loyality_input_data ps-0 pe-4",onChange:function(e){P(e.target.value)}})]}),(0,o.jsx)("div",{className:"card_image_container",children:(0,o.jsx)("img",{src:r.src,alt:"",className:"card_image"})})]})]}),(0,o.jsx)(i.Z,{variant:"primary",size:"md",className:"m-3",onClick:function(){return q()},children:"Submit"})]})})]}),G?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(m.Z,{showPleaseWaitPopup:G,setShowPleaseWaitPopup:S})}):"",Q?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(p.Z,{type:D,text:O,showStatus:Q,setAlertPopStatus:H})}):"",(0,o.jsx)(d,{showResult:g,onHide:function(){v(!1),A&&("cart"===A||"checkout"===A)&&window.location.reload()},balance:z,tryAgain:function(){a(!0),v(!1)}})]})}}}]);